!function($,undefined){var slides,currentIndex,$container,$fragmentLinks,events={beforeChange:"deck.beforeChange",change:"deck.change",beforeInitialize:"deck.beforeInit",initialize:"deck.init"},options={},$document=$(document),$window=$(window),stopPropagation=function(event){event.stopPropagation()},updateContainerState=function(){var oldIndex=$container.data("onSlide");$container.removeClass(options.classes.onPrefix+oldIndex),$container.addClass(options.classes.onPrefix+currentIndex),$container.data("onSlide",currentIndex)},updateChildCurrent=function(){var $oldCurrent=$("."+options.classes.current),$oldParents=$oldCurrent.parentsUntil(options.selectors.container),$newCurrent=slides[currentIndex],$newParents=$newCurrent.parentsUntil(options.selectors.container);$oldParents.removeClass(options.classes.childCurrent),$newParents.addClass(options.classes.childCurrent)},removeOldSlideStates=function(){var $all=$();$.each(slides,function(i,el){$all=$all.add(el)}),$all.removeClass([options.classes.before,options.classes.previous,options.classes.current,options.classes.next,options.classes.after].join(" "))},addNewSlideStates=function(){slides[currentIndex].addClass(options.classes.current),currentIndex>0&&slides[currentIndex-1].addClass(options.classes.previous),currentIndex+1<slides.length&&slides[currentIndex+1].addClass(options.classes.next),currentIndex>1&&$.each(slides.slice(0,currentIndex-1),function(i,$slide){$slide.addClass(options.classes.before)}),currentIndex+2<slides.length&&$.each(slides.slice(currentIndex+2),function(i,$slide){$slide.addClass(options.classes.after)})},setAriaHiddens=function(){$(options.selectors.slides).each(function(){var $slide=$(this),isSub=$slide.closest("."+options.classes.childCurrent).length,isBefore=$slide.hasClass(options.classes.before)&&!isSub,isPrevious=$slide.hasClass(options.classes.previous)&&!isSub,isNext=$slide.hasClass(options.classes.next),isAfter=$slide.hasClass(options.classes.after),ariaHiddenValue=isBefore||isPrevious||isNext||isAfter;$slide.attr("aria-hidden",ariaHiddenValue)})},updateStates=function(){updateContainerState(),updateChildCurrent(),removeOldSlideStates(),addNewSlideStates(),options.setAriaHiddens&&setAriaHiddens()},initSlidesArray=function(elements){$.isArray(elements)?$.each(elements,function(i,element){slides.push($(element))}):$(elements).each(function(i,element){slides.push($(element))})},bindKeyEvents=function(){var editables=["input","textarea","select","button","meter","progress","[contentEditable]"].join(", ");$document.unbind("keydown.deck").bind("keydown.deck",function(event){var isNext=event.which===options.keys.next,isPrev=event.which===options.keys.previous;isNext=isNext||$.inArray(event.which,options.keys.next)>-1,isPrev=isPrev||$.inArray(event.which,options.keys.previous)>-1,isNext?(methods.next(),event.preventDefault()):isPrev&&(methods.prev(),event.preventDefault())}),$document.undelegate(editables,"keydown.deck",stopPropagation),$document.delegate(editables,"keydown.deck",stopPropagation)},bindTouchEvents=function(){var startTouch,direction=options.touch.swipeDirection,tolerance=options.touch.swipeTolerance,listenToHorizontal={both:!0,horizontal:!0}[direction],listenToVertical={both:!0,vertical:!0}[direction];$container.unbind("touchstart.deck"),$container.bind("touchstart.deck",function(event){startTouch||(startTouch=$.extend({},event.originalEvent.targetTouches[0]))}),$container.unbind("touchmove.deck"),$container.bind("touchmove.deck",function(event){$.each(event.originalEvent.changedTouches,function(i,touch){if(!startTouch||touch.identifier!==startTouch.identifier)return!0;var xDistance=touch.screenX-startTouch.screenX,yDistance=touch.screenY-startTouch.screenY,leftToRight=xDistance>tolerance&&listenToHorizontal,rightToLeft=-tolerance>xDistance&&listenToHorizontal,topToBottom=yDistance>tolerance&&listenToVertical,bottomToTop=-tolerance>yDistance&&listenToVertical;return leftToRight||topToBottom?($.deck("prev"),startTouch=undefined):(rightToLeft||bottomToTop)&&($.deck("next"),startTouch=undefined),!1}),listenToVertical&&event.preventDefault()}),$container.unbind("touchend.deck"),$container.bind("touchend.deck",function(event){$.each(event.originalEvent.changedTouches,function(i,touch){startTouch&&touch.identifier===startTouch.identifier&&(startTouch=undefined)})})},indexInBounds=function(index){return"number"==typeof index&&index>=0&&index<slides.length},createBeforeInitEvent=function(){var event=$.Event(events.beforeInitialize);return event.locks=0,event.done=$.noop,event.lockInit=function(){++event.locks},event.releaseInit=function(){--event.locks,event.locks||event.done()},event},goByHash=function(str){var id=str.substr(str.indexOf("#")+1);$.each(slides,function(i,$slide){return $slide.attr("id")===id?($.deck("go",i),!1):void 0}),options.preventFragmentScroll&&$.deck("getContainer").scrollLeft(0).scrollTop(0)},assignSlideId=function(i,$slide){var currentId=$slide.attr("id"),previouslyAssigned=$slide.data("deckAssignedId")===currentId;(!currentId||previouslyAssigned)&&($slide.attr("id",options.hashPrefix+i),$slide.data("deckAssignedId",options.hashPrefix+i))},removeContainerHashClass=function(id){$container.removeClass(options.classes.onPrefix+id)},addContainerHashClass=function(id){$container.addClass(options.classes.onPrefix+id)},setupHashBehaviors=function(){$fragmentLinks=$(),$.each(slides,function(i,$slide){var hash;assignSlideId(i,$slide),hash="#"+$slide.attr("id"),hash===window.location.hash&&setTimeout(function(){$.deck("go",i)},1),$fragmentLinks=$fragmentLinks.add('a[href="'+hash+'"]')}),slides.length&&addContainerHashClass($.deck("getSlide").attr("id"))},changeHash=function(from,to){var hash="#"+$.deck("getSlide",to).attr("id"),hashPath=window.location.href.replace(/#.*/,"")+hash;removeContainerHashClass($.deck("getSlide",from).attr("id")),addContainerHashClass($.deck("getSlide",to).attr("id")),Modernizr.history&&window.history.replaceState({},"",hashPath)},methods={init:function(opts){var beforeInitEvent=createBeforeInitEvent(),overrides=opts;$.isPlainObject(opts)||(overrides=arguments[1]||{},$.extend(!0,overrides,{selectors:{slides:arguments[0]}})),options=$.extend(!0,{},$.deck.defaults,overrides),slides=[],currentIndex=0,$container=$(options.selectors.container),$container.addClass(options.classes.loading),initSlidesArray(options.selectors.slides),beforeInitEvent.done=function(){slides=[],initSlidesArray(options.selectors.slides),setupHashBehaviors(),bindKeyEvents(),bindTouchEvents(),$container.scrollLeft(0).scrollTop(0),slides.length&&updateStates(),$container.removeClass(options.classes.loading),$document.trigger(events.initialize)},$document.trigger(beforeInitEvent),beforeInitEvent.locks||beforeInitEvent.done(),window.setTimeout(function(){beforeInitEvent.locks&&(window.console&&window.console.warn("Something locked deck initialization              without releasing it before the timeout. Proceeding with              initialization anyway."),beforeInitEvent.done())},options.initLockTimeout)},go:function(indexOrId){var index,beforeChangeEvent=$.Event(events.beforeChange);indexInBounds(indexOrId)?index=indexOrId:"string"==typeof indexOrId&&$.each(slides,function(i,$slide){return $slide.attr("id")===indexOrId?(index=i,!1):void 0}),"undefined"!=typeof index&&($document.trigger(beforeChangeEvent,[currentIndex,index]),beforeChangeEvent.isDefaultPrevented()||($document.trigger(events.change,[currentIndex,index]),changeHash(currentIndex,index),currentIndex=index,updateStates()))},next:function(){methods.go(currentIndex+1)},prev:function(){methods.go(currentIndex-1)},getSlide:function(index){return index="undefined"!=typeof index?index:currentIndex,indexInBounds(index)?slides[index]:null},getSlides:function(){return slides},getTopLevelSlides:function(){var topLevelSlides=[],slideSelector=options.selectors.slides,subSelector=[slideSelector,slideSelector].join(" ");return $.each(slides,function(i,$slide){$slide.is(subSelector)||topLevelSlides.push($slide)}),topLevelSlides},getNestedSlides:function(index){var targetIndex=null==index?currentIndex:index,$targetSlide=$.deck("getSlide",targetIndex),$nesteds=$targetSlide.find(options.selectors.slides),nesteds=$nesteds.get();return $.map(nesteds,function(slide){return $(slide)})},getContainer:function(){return $container},getOptions:function(){return options},extend:function(name,method){methods[name]=method}};$.deck=function(method,arg){var args=Array.prototype.slice.call(arguments,1);return methods[method]?methods[method].apply(this,args):methods.init(method,arg)},$.deck.defaults={classes:{after:"deck-after",before:"deck-before",childCurrent:"deck-child-current",current:"deck-current",loading:"deck-loading",next:"deck-next",onPrefix:"on-slide-",previous:"deck-previous"},selectors:{container:".deck-container",slides:".slide"},keys:{next:[13,32,34,39,40],previous:[8,33,37,38]},touch:{swipeDirection:"horizontal",swipeTolerance:60},initLockTimeout:1e4,hashPrefix:"slide-",preventFragmentScroll:!0,setAriaHiddens:!0},$document.ready(function(){$("html").addClass("ready")}),$window.bind("hashchange.deck",function(event){goByHash(event.originalEvent&&event.originalEvent.newURL?event.originalEvent.newURL:window.location.hash)}),$window.bind("load.deck",function(){options.preventFragmentScroll&&$container.scrollLeft(0).scrollTop(0)})}(jQuery),function($,deck){$(document).bind("deck.change",function(e,from,to){var $prev=$[deck]("getSlide",to-1),$next=$[deck]("getSlide",to+1),$oldprev=$[deck]("getSlide",from-1),$oldnext=$[deck]("getSlide",from+1),direction="forward";from>to&&(direction="reverse"),$[deck]("getSlide",to).trigger("deck.becameCurrent",[direction,from,to]),$[deck]("getSlide",from).trigger("deck.lostCurrent",[direction,from,to]),$prev&&$prev.trigger("deck.becamePrevious",[direction,from,to]),$next&&$next.trigger("deck.becameNext",[direction,from,to]),$oldprev&&$oldprev.trigger("deck.lostPrevious",[direction,from,to]),$oldnext&&$oldnext.trigger("deck.lostNext",[direction,from,to])})}(jQuery,"deck"),function($,deck,window){var timer,$d=$(document),$w=$(window),scaleDeck=function(){{var opts=$[deck]("getOptions"),addMarginX=2*opts.fitMarginX,addMarginY=2*opts.fitMarginY,fitMode=opts.fitMode,sdw=opts.designWidth,sdh=opts.designHeight,$container=$[deck]("getContainer"),scaleX=$container.hasClass(opts.classes.globalscale)?$container.innerWidth()/(sdw+addMarginX):1,scaleY=$container.hasClass(opts.classes.globalscale)?$container.innerHeight()/(sdh+addMarginY):1,scale=($container.hasClass(opts.classes.globalscale)?$container.innerWidth()/sdw:1,$container.hasClass(opts.classes.globalscale)?$container.innerHeight()/sdh:1,scaleY>scaleX?scaleX:scaleY),rootSlides=[];$.map([opts.classes.before,opts.classes.previous,opts.classes.current,opts.classes.next,opts.classes.after],function(el){return"."+el}).join(", ")}$.each($[deck]("getSlides"),function(i,$el){$el.parentsUntil(opts.selectors.container).length||rootSlides.push($el)}),$.each(rootSlides,function(i,$slide){$slide.width(sdw),$slide.height(sdh),$.each("Webkit Moz O ms Khtml".split(" "),function(i,prefix){1==scale?$slide.css(prefix+"Transform",""):"left top"==fitMode||"top left"==fitMode?$slide.css(prefix+"Transform","translate(-50%,-50%) scale("+scale+" , "+scale+") translate(50%,50%) translate("+addMarginX/2+"px,"+addMarginY/2+"px)"):"center middle"==fitMode?$slide.css(prefix+"Transform","translate(-50%,-50%) scale("+scale+" , "+scale+") translate(50%, 50%) translate("+($container.innerWidth()/2/scale-sdw/2)+"px,"+($container.innerHeight()/2/scale-sdh/2)+"px)"):"right bottom"==fitMode||"bottom right"==fitMode?$slide.css(prefix+"Transform","translate(-50%,-50%) scale("+scale+" , "+scale+") translate(50%, 50%) translate("+($container.innerWidth()/scale-sdw-addMarginX/2)+"px,"+($container.innerHeight()/scale-sdh-addMarginY/2)+"px)"):"stretched"==fitMode&&$slide.css(prefix+"Transform","scale("+scaleX+" , "+scaleY+") translate("+($container.innerWidth()-sdw)/2/scaleX+"px,"+($container.innerHeight()-sdh)/2/scaleY+"px)")})})};$.extend(!0,$[deck].defaults,{classes:{globalscale:"deck-globalscale"},keys:{scale:83},designWidth:800,designHeight:600,fitMode:"center middle",fitMarginX:5,fitMarginY:5,scaleDebounce:200}),$[deck]("extend","disableScale",function(){$[deck]("getContainer").removeClass($[deck]("getOptions").classes.globalscale),scaleDeck()}),$[deck]("extend","enableScale",function(){$[deck]("getContainer").addClass($[deck]("getOptions").classes.globalscale),scaleDeck()}),$[deck]("extend","toggleScale",function(){var $c=$[deck]("getContainer");$[deck]($c.hasClass($[deck]("getOptions").classes.globalscale)?"disableScale":"enableScale")}),$d.bind("deck.init",function(){var opts=$[deck]("getOptions");$w.unbind("resize.deckscale").bind("resize.deckscale",function(){window.clearTimeout(timer),timer=window.setTimeout(scaleDeck,opts.scaleDebounce)}).unbind("load.deckscale").bind("load.deckscale",scaleDeck),$d.unbind("keydown.deckscale").bind("keydown.deckscale",function(e){(e.which===opts.keys.scale||$.inArray(e.which,opts.keys.scale)>-1)&&($[deck]("toggleScale"),e.preventDefault())}),$[deck]("enableScale")})}(jQuery,"deck",this),function($,deck){var rootSlides,$d=$(document);$.extend(!0,$[deck].defaults,{classes:{menu:"deck-menu"},keys:{menu:77},touch:{doubletapWindow:400}}),$[deck]("extend","showMenu",function(){var $c=$[deck]("getContainer"),opts=$[deck]("getOptions");$c.hasClass(opts.classes.menu)||($c.addClass([opts.classes.loading,opts.classes.menu].join(" ")),Modernizr.csstransforms&&$.each(rootSlides,function(i,$slide){$slide.data("oldStyle",$slide.attr("style")),$slide.css({position:"absolute",left:i%4*25+2+"%",top:33*Math.floor(i/4)+"%"})}),window.setTimeout(function(){$c.removeClass(opts.classes.loading).scrollTop($[deck]("getSlide").offset().top)},0))}),$[deck]("extend","hideMenu",function(){var $c=$[deck]("getContainer"),opts=$[deck]("getOptions");$c.hasClass(opts.classes.menu)&&($c.removeClass(opts.classes.menu),$c.addClass(opts.classes.loading),Modernizr.csstransforms&&$.each(rootSlides,function(i,$slide){var oldStyle=$slide.data("oldStyle");$slide.attr("style",oldStyle?oldStyle:"")}),window.setTimeout(function(){$c.removeClass(opts.classes.loading).scrollTop(0)},0))}),$[deck]("extend","toggleMenu",function(){$[deck]($[deck]("getContainer").hasClass($[deck]("getOptions").classes.menu)?"hideMenu":"showMenu")}),$d.bind("deck.init",function(){var currentSlide,opts=$[deck]("getOptions"),touchEndTime=0,slideTest=$.map([opts.classes.before,opts.classes.previous,opts.classes.current,opts.classes.next,opts.classes.after],function(el){return"."+el}).join(", ");rootSlides=[],$.each($[deck]("getSlides"),function(i,$el){$el.parentsUntil(opts.selectors.container,slideTest).length||rootSlides.push($el)}),$d.unbind("keydown.deckmenu").bind("keydown.deckmenu",function(e){(e.which===opts.keys.menu||$.inArray(e.which,opts.keys.menu)>-1)&&($[deck]("toggleMenu"),e.preventDefault())}),$[deck]("getContainer").unbind("touchstart.deckmenu").bind("touchstart.deckmenu",function(){currentSlide=$[deck]("getSlide")}).unbind("touchend.deckmenu").bind("touchend.deckmenu",function(e){var now=Date.now();currentSlide===$[deck]("getSlide")&&(now-touchEndTime<opts.touch.doubletapWindow&&($[deck]("toggleMenu"),e.preventDefault()),touchEndTime=now)}),$.each($[deck]("getSlides"),function(i,$s){$s.unbind("click.deckmenu").bind("click.deckmenu",function(e){$[deck]("getContainer").hasClass(opts.classes.menu)&&($[deck]("go",i),$[deck]("hideMenu"),e.stopPropagation(),e.preventDefault())})})}).bind("deck.change",function(e,from,to){var container=$[deck]("getContainer");container.hasClass($[deck]("getOptions").classes.menu)&&container.scrollTop($[deck]("getSlide",to).offset().top)})}(jQuery,"deck"),function($,deck,window){var $internals,$d=$(document),$window=$(window),goByHash=function(str){var id=str.substr(str.indexOf("#")+1),slides=$[deck]("getSlides");$.each(slides,function(i,$el){return $el.attr("id")===id?($[deck]("go",i),!1):void 0}),$[deck]("getContainer").scrollLeft(0).scrollTop(0)};$.extend(!0,$[deck].defaults,{selectors:{hashLink:".deck-permalink"},hashPrefix:"slide-",preventFragmentScroll:!0}),$d.bind("deck.init",function(){var opts=$[deck]("getOptions");$internals=$(),slides=$[deck]("getSlides"),$.each(slides,function(i,$el){var hash;$el.attr("id")&&$el.data("deckAssignedId")!==$el.attr("id")||($el.attr("id",opts.hashPrefix+i),$el.data("deckAssignedId",opts.hashPrefix+i)),hash="#"+$el.attr("id"),hash===window.location.hash&&setTimeout(function(){$[deck]("go",i)},1),$internals=$internals.add('a[href="'+hash+'"]')}),Modernizr.hashchange||$internals.unbind("click.deckhash").bind("click.deckhash",function(){goByHash($(this).attr("href"))}),slides.length&&$[deck]("getContainer").addClass(opts.classes.onPrefix+$[deck]("getSlide").attr("id"))}).bind("deck.change",function(e,from,to){var hash="#"+$[deck]("getSlide",to).attr("id"),hashPath=window.location.href.replace(/#.*/,"")+hash,opts=$[deck]("getOptions"),osp=opts.classes.onPrefix,$c=$[deck]("getContainer");$c.removeClass(osp+$[deck]("getSlide",from).attr("id")),$c.addClass(osp+$[deck]("getSlide",to).attr("id")),$(opts.selectors.hashLink).attr("href",hashPath),Modernizr.history&&window.history.replaceState({},"",hashPath)}),$window.bind("hashchange.deckhash",function(e){goByHash(e.originalEvent&&e.originalEvent.newURL?e.originalEvent.newURL:window.location.hash)}).bind("load",function(){$[deck]("getOptions").preventFragmentScroll&&$[deck]("getContainer").scrollLeft(0).scrollTop(0)})}(jQuery,"deck",this),function($,deck){var $d=$(document);$.extend(!0,$[deck].defaults,{classes:{notes:"deck-notes",handout:"deck-handout",notesContainer:"deck-notes-container",handoutContainer:"deck-handout-container"},keys:{notes:78,handout:72},selectors:{}});var findAndReplaceDOMText=function(){function escapeRegExp(s){return String(s).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function exposed(){return deprecated.apply(null,arguments)||findAndReplaceDOMText.apply(null,arguments)}function deprecated(regex,node,replacement,captureGroup,elFilter){if(node&&!node.nodeType&&arguments.length<=2)return!1;var isReplacementFunction="function"==typeof replacement;isReplacementFunction&&(replacement=function(original){return function(portion,match){return original(portion.text,match.startIndex)}}(replacement));var instance=findAndReplaceDOMText(node,{find:regex,wrap:isReplacementFunction?null:replacement,replace:isReplacementFunction?replacement:"$"+(captureGroup||"&"),prepMatch:function(m,mi){if(!m[0])throw"findAndReplaceDOMText cannot handle zero-length matches";if(captureGroup>0){var cg=m[captureGroup];m.index+=m[0].indexOf(cg),m[0]=cg}return m.endIndex=m.index+m[0].length,m.startIndex=m.index,m.index=mi,m},filterElements:elFilter});return exposed.revert=function(){return instance.revert()},!0}function findAndReplaceDOMText(node,options){return new Finder(node,options)}function Finder(node,options){options.portionMode=options.portionMode||PORTION_MODE_RETAIN,this.node=node,this.options=options,this.prepMatch=options.prepMatch||this.prepMatch,this.reverts=[],this.matches=this.search(),this.matches.length&&this.processMatches()}{var PORTION_MODE_RETAIN="retain",PORTION_MODE_FIRST="first",doc=document;({}).toString}return exposed.Finder=Finder,Finder.prototype={search:function(){var match,matchIndex=0,regex=this.options.find,text=this.getAggregateText(),matches=[];if(regex="string"==typeof regex?RegExp(escapeRegExp(regex),"g"):regex,regex.global)for(;match=regex.exec(text);)matches.push(this.prepMatch(match,matchIndex++));else(match=text.match(regex))&&matches.push(this.prepMatch(match,0));return matches},prepMatch:function(match,matchIndex){if(!match[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return match.endIndex=match.index+match[0].length,match.startIndex=match.index,match.index=matchIndex,match},getAggregateText:function(){function getText(node){if(3===node.nodeType)return node.data;if(elementFilter&&!elementFilter(node))return"";var txt="";if(node=node.firstChild)do txt+=getText(node);while(node=node.nextSibling);return txt}var elementFilter=this.options.filterElements;return getText(this.node)},processMatches:function(){var startPortion,endPortion,doAvoidNode,matches=this.matches,node=this.node,elementFilter=this.options.filterElements,innerPortions=[],curNode=node,match=matches.shift(),atIndex=0,matchIndex=0,portionIndex=0;out:for(;;){if(3===curNode.nodeType&&(!endPortion&&curNode.length+atIndex>=match.endIndex?endPortion={node:curNode,index:portionIndex++,text:curNode.data.substring(match.startIndex-atIndex,match.endIndex-atIndex),indexInMatch:atIndex-match.startIndex,indexInNode:match.startIndex-atIndex,endIndexInNode:match.endIndex-atIndex,isEnd:!0}:startPortion&&innerPortions.push({node:curNode,index:portionIndex++,text:curNode.data,indexInMatch:atIndex-match.startIndex,indexInNode:0}),!startPortion&&curNode.length+atIndex>match.startIndex&&(startPortion={node:curNode,index:portionIndex++,indexInMatch:0,indexInNode:match.startIndex-atIndex,endIndexInNode:match.endIndex-atIndex,text:curNode.data.substring(match.startIndex-atIndex,match.endIndex-atIndex)}),atIndex+=curNode.data.length),doAvoidNode=1===curNode.nodeType&&elementFilter&&!elementFilter(curNode),startPortion&&endPortion){if(curNode=this.replaceMatch(match,startPortion,innerPortions,endPortion),atIndex-=endPortion.node.data.length-endPortion.endIndexInNode,startPortion=null,endPortion=null,innerPortions=[],match=matches.shift(),portionIndex=0,matchIndex++,!match)break}else if(!doAvoidNode&&(curNode.firstChild||curNode.nextSibling)){curNode=curNode.firstChild||curNode.nextSibling;continue}for(;;){if(curNode.nextSibling){curNode=curNode.nextSibling;break}if(curNode.parentNode===node)break out;curNode=curNode.parentNode}}},revert:function(){for(var l=this.reverts.length;l--;)this.reverts[l]();this.reverts=[]},prepareReplacementString:function(string,portion,match){var portionMode=this.options.portionMode;return portionMode===PORTION_MODE_FIRST&&portion.indexInMatch>0?"":(string=string.replace(/\$(\d+|&|`|')/g,function($0,t){var replacement;switch(t){case"&":replacement=match[0];break;case"`":replacement=match.input.substring(0,match.startIndex);break;case"'":replacement=match.input.substring(match.endIndex);break;default:replacement=match[+t]}return replacement}),portionMode===PORTION_MODE_FIRST?string:portion.isEnd?string.substring(portion.indexInMatch):string.substring(portion.indexInMatch,portion.indexInMatch+portion.text.length))},getPortionReplacementNode:function(portion,match,matchIndex){var replacement=this.options.replace||"$&",wrapper=this.options.wrap;if(wrapper&&wrapper.nodeType){var clone=doc.createElement("div");clone.innerHTML=wrapper.outerHTML||(new XMLSerializer).serializeToString(wrapper),wrapper=clone.firstChild}if("function"==typeof replacement)return replacement=replacement(portion,match,matchIndex),replacement&&replacement.nodeType?replacement:doc.createTextNode(String(replacement));var el="string"==typeof wrapper?doc.createElement(wrapper):wrapper;return replacement=doc.createTextNode(this.prepareReplacementString(replacement,portion,match,matchIndex)),el?(el.appendChild(replacement),el):replacement},replaceMatch:function(match,startPortion,innerPortions,endPortion){var preceedingTextNode,followingTextNode,matchStartNode=startPortion.node,matchEndNode=endPortion.node;if(matchStartNode===matchEndNode){var node=matchStartNode;startPortion.indexInNode>0&&(preceedingTextNode=doc.createTextNode(node.data.substring(0,startPortion.indexInNode)),node.parentNode.insertBefore(preceedingTextNode,node));var newNode=this.getPortionReplacementNode(endPortion,match);return node.parentNode.insertBefore(newNode,node),endPortion.endIndexInNode<node.length&&(followingTextNode=doc.createTextNode(node.data.substring(endPortion.endIndexInNode)),node.parentNode.insertBefore(followingTextNode,node)),node.parentNode.removeChild(node),this.reverts.push(function(){preceedingTextNode===newNode.previousSibling&&preceedingTextNode.parentNode.removeChild(preceedingTextNode),followingTextNode===newNode.nextSibling&&followingTextNode.parentNode.removeChild(followingTextNode),newNode.parentNode.replaceChild(node,newNode)}),newNode}preceedingTextNode=doc.createTextNode(matchStartNode.data.substring(0,startPortion.indexInNode)),followingTextNode=doc.createTextNode(matchEndNode.data.substring(endPortion.endIndexInNode));for(var firstNode=this.getPortionReplacementNode(startPortion,match),innerNodes=[],i=0,l=innerPortions.length;l>i;++i){var portion=innerPortions[i],innerNode=this.getPortionReplacementNode(portion,match);portion.node.parentNode.replaceChild(innerNode,portion.node),this.reverts.push(function(portion,innerNode){return function(){innerNode.parentNode.replaceChild(portion.node,innerNode)}}(portion,innerNode)),innerNodes.push(innerNode)}var lastNode=this.getPortionReplacementNode(endPortion,match);return matchStartNode.parentNode.insertBefore(preceedingTextNode,matchStartNode),matchStartNode.parentNode.insertBefore(firstNode,matchStartNode),matchStartNode.parentNode.removeChild(matchStartNode),matchEndNode.parentNode.insertBefore(lastNode,matchEndNode),matchEndNode.parentNode.insertBefore(followingTextNode,matchEndNode),matchEndNode.parentNode.removeChild(matchEndNode),this.reverts.push(function(){preceedingTextNode.parentNode.removeChild(preceedingTextNode),firstNode.parentNode.replaceChild(matchStartNode,firstNode),followingTextNode.parentNode.removeChild(followingTextNode),lastNode.parentNode.replaceChild(matchEndNode,lastNode)}),lastNode}},exposed}();$[deck]("extend","showNotes",function(){$notesEl=$("."+$[deck]("getOptions").classes.notes),$notesEl.show(),$(".notes-header-tex",$notesEl).hide(),$(".deck-container").css($notesEl.hasClass("large-format")?{transform:"translate(300px,-200px) scale(0.5,0.5)"}:{transform:"translate(150px)"})}),$[deck]("extend","showNotesExport",function(){$notesEl=$("."+$[deck]("getOptions").classes.notes),$notesEl.show(),$notesEl.addClass("notes-export"),$(".notes",$notesEl).show(),$(".notes-header-tex",$notesEl).show(),$(".notes-header",$notesEl).hide(),$(".deck-container").hide()}),$[deck]("extend","showHandoutExport",function(){$handoutEl=$("."+$[deck]("getOptions").classes.handout),$handoutEl.show(),$(".deck-container").hide()}),$[deck]("extend","hideNotes",function(){$("."+$[deck]("getOptions").classes.notes).hide(),$(".deck-container").css({transform:"translate(0)"})}),$[deck]("extend","hideNotesExport",function(){$notesEl=$("."+$[deck]("getOptions").classes.notes),$notesEl.hide(),$notesEl.removeClass("notes-export"),$(".deck-container").show()}),$[deck]("extend","hideHandoutExport",function(){$handoutEl=$("."+$[deck]("getOptions").classes.handout),$handoutEl.hide(),$(".deck-container").show()}),$[deck]("extend","toggleNotes",function(){$[deck]($("."+$[deck]("getOptions").classes.notes).is(":visible")?"hideNotes":"showNotes")}),$[deck]("extend","toggleNotesExport",function(){$[deck]($("."+$[deck]("getOptions").classes.notes).hasClass("notes-export")?"hideNotesExport":"showNotesExport")}),$[deck]("extend","toggleHandoutExport",function(){$[deck]($("."+$[deck]("getOptions").classes.handout).is(":visible")?"hideHandoutExport":"showHandoutExport")}),$d.bind("deck.init",function(){var opts=$[deck]("getOptions"),show_notes=($[deck]("getContainer"),-1!=window.location.search.search(/[\?&]notes([&=]|$)/)),large_notes=-1!=window.location.search.search(/[\?&]largenotes([&=]|$)/);large_notes&&($notesEl=$("."+$[deck]("getOptions").classes.notes),$notesEl.toggleClass("large-format")),(show_notes||large_notes)&&$[deck]("toggleNotes"),$d.unbind("keydown.decknotes").bind("keydown.decknotes",function(e){(e.which===opts.keys.notes||$.inArray(e.which,opts.keys.notes)>-1)&&(e.altKey&&($notesEl=$("."+$[deck]("getOptions").classes.notes),$notesEl.toggleClass("large-format")),$[deck](e.shiftKey?"toggleNotesExport":"toggleNotes"),e.preventDefault()),(e.which===opts.keys.handout||$.inArray(e.which,opts.keys.handout)>-1)&&($[deck]("toggleHandoutExport"),e.preventDefault())});var slide_id,$notesContainer=$("."+$[deck]("getOptions").classes.notesContainer),$notes=$(".deck-container .notes"),last_slide_id=-1;$notes.each(function(idx,note){var $note=$(note),$slide=$note.parents(".slide").first(),previous=$note.siblings().splice(0,$note.index()),$previous_slide=$(previous).filter(".slide").last();if($previous_slide.length>0&&($slide=$previous_slide),slide_id=$slide.attr("id"),-1!=last_slide_id&&last_slide_id!=slide_id&&$notesContainer.append('<div class="divider for-'+last_slide_id+'">--------</div>'),-1!=last_slide_id&&last_slide_id!=slide_id){var tex_slide_id=(slide_id+"").replace(/_/g,"\\_");$notesContainer.append('<div class="notes-header-tex for-'+slide_id+'">\\subsection{'+tex_slide_id+"}</div>")}var cls=$note.attr("class")+(" for-"+slide_id);$notesContainer.append('<div class="'+cls+'">'+$note.html().trim()+"</div>"),$notes.eq(idx+1).hasClass("ctd")||$notesContainer.append('<div class="notes for-'+slide_id+'">&nbsp;</div>'),last_slide_id=slide_id}),findAndReplaceDOMText($notesContainer[0],{find:/&/g,replace:"\\&"});var $handoutContainer=$("."+$[deck]("getOptions").classes.handoutContainer),$handouts=$(".deck-container .handout").not(".handout .handout"),img_path="";$handouts.each(function(idx,handout){var $handout=$(handout);if($handout.not("img").length>0&&$handout.not(".img").length>0)$handoutContainer.append('<div class="handout">'+$handout.html().trim()+"</div>"),$handouts.eq(idx+1).hasClass("ctd")||$handoutContainer.append("<div>&nbsp;</div>");else{var file=$handout.attr("src")||$handout.attr("data-src");$.each(["\\begin{center}","\\includegraphics[scale=0.3]{"+img_path+file+"}","\\end{center}"],function(idx,txt){$handoutContainer.append("<div>"+txt+"</div>")})}});var $exercises=$(".deck-container .exercises");if(document.title.match(/^Fast/))var $exercises=$(".deck-container .exercises_fast");$exercises.length>0&&($handoutContainer.append("<div>\\vfill</div>"),$handoutContainer.append("<div>\\begin{minipage}{\\columnwidth}</div>"),$handoutContainer.append("<div>\\section{Exercises}</div>"),$handoutContainer.append("<div>These exercises will be discussed in seminars the week after this lecture.</div>"),$handoutContainer.append("<div>The numbers below refer to the numbered exercises in the course textbook, e.g.\\ `1.1' refers to exercise 1.1. on page 39 of the second edition of \\emph{Language, Proof and Logic}.  Exercises marked `*' are optional.</div>"),$handoutContainer.append("<div>&nbsp;</div>"),$handoutContainer.append("<div>\\begin{quote}</div>"),$exercises.each(function(idx,ex){var $ex=$(ex);$handoutContainer.append('<div class="handout exercise">'+$ex.html()+"</div>"),$exercises.eq(idx+1).hasClass("ctd")||$handoutContainer.append("<div>&nbsp;</div>")}),$handoutContainer.append("<div>\\end{quote}</div>"),$handoutContainer.append("<div>\\end{minipage}</div>")),findAndReplaceDOMText($handoutContainer[0],{find:/&/g,replace:"\\&"}),findAndReplaceDOMText($handoutContainer[0],{find:/⫤⊨/g,replace:"$\\leftmodels\\models$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⫤/g,replace:"$\\leftmodels$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⊨TT/g,replace:"$\\vDash _{TT}$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⊨/g,replace:"$\\vDash$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⊭TT/g,replace:"$\\nvDash _{TT}$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⊥/g,replace:"$\\bot$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⊢/g,replace:"$\\vdash$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⊬/g,replace:"$\\nvdash$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⊭/g,replace:"$\\nvDash$"})}),$d.bind("deck.change",function(e,from,to){var slideTo=$[deck]("getSlide",to),$notesContainer=$("."+$[deck]("getOptions").classes.notesContainer);$(".notes",$notesContainer).hide(),$(".divider, .notes-header, .notes-header-tex",$notesContainer).hide();var slide_id=$(slideTo).attr("id"),$notes=$(".for-"+slide_id,$notesContainer).not(".notes-header-tex");
$notes.show()})}(jQuery,"deck"),function($){$(".slide-clone").each(function(i,el){var $el=$(el);$el.parents(".slide").first().one("deck.becameCurrent",function(){var selector=$el.attr("data-which"),$to_clone=$(selector),theClone=$to_clone.clone();0===$to_clone.length&&(theClone=$("<p>[*not found, selector="+selector+"*]</p>")),console.log("cloning: found = "+$to_clone.length),$(theClone).find(".slide.deck-before").removeClass("slide").removeClass("deck-before"),$(theClone).find(".notes.show").removeClass("notes"),$(theClone).find(".handout.show").removeClass("handout"),$(theClone).find(".notes").remove(),$(theClone).find(".handout").remove(),$el.html(theClone.html())})})}(jQuery,"deck"),function($,deck){var $d=$(document);$.extend(!0,$[deck].defaults,{keys:{next:null,previous:null}}),$.extend(!0,$[deck].defaults,{selectors:{subslidesToNotify:".slide,.onshowtoplevel"},keys:{previous:[8,37,34],next:[13,32,39,33],previousTopLevel:[38],nextTopLevel:[40]},countNested:!1});var myInArray=function(el,arr){for(i in arr)if(arr[i].is(el))return 1*i;return-1};$[deck]("extend","getToplevelSlideOf",function(node){var opts=$[deck]("getOptions"),slides=$[deck]("getSlides"),last={node:$(node),index:myInArray(node,slides)};return $(node).parentsUntil(opts.selectors.container).each(function(ii,v){var ind=myInArray(v,slides);-1!=ind&&(last={node:$(v),index:ind})}),last}),$[deck]("extend","getToplevelSlideOfIndex",function(ind){return $[deck]("getToplevelSlideOf",$[deck]("getSlide",ind))}),$[deck]("extend","previousTopLevelSlide",function(){var current=$[deck]("getSlide"),currentParent=$[deck]("getToplevelSlideOf",current),toGo=currentParent.index;current.is(currentParent.node)&&toGo>0&&(toGo=$[deck]("getToplevelSlideOfIndex",toGo-1).index),$[deck]("go",toGo)}),$[deck]("extend","nextTopLevelSlide",function(){for(var current=$[deck]("getSlide"),currentParent=$[deck]("getToplevelSlideOf",current),icur=currentParent.index;icur<$[deck]("getSlides").length;icur++){var cursorParent=$[deck]("getToplevelSlideOfIndex",icur).node;if(!cursorParent.is(currentParent.node)){$[deck]("go",icur);break}}}),$d.bind("deck.init",function(){$d.unbind("keydown.decknexttoplevel").bind("keydown.decknexttoplevel",function(e){var $opts=$[deck]("getOptions"),key=$opts.keys.nextTopLevel;(e.which===key||$.inArray(e.which,key)>-1)&&(e.preventDefault(),$[deck]("nextTopLevelSlide"))}),$d.unbind("keydown.deckprevioustoplevel").bind("keydown.deckprevioustoplevel",function(e){var $opts=$[deck]("getOptions"),key=$opts.keys.previousTopLevel;(e.which===key||$.inArray(e.which,key)>-1)&&(e.preventDefault(),$[deck]("previousTopLevelSlide"))})});var bigJump=function(from,to){var direction="forward";from>to&&(direction="reverse");var opts=$[deck]("getOptions");for($($[deck]("getToplevelSlideOfIndex",to).node.find(opts.selectors.subslidesToNotify).get().reverse()).trigger("deck.toplevelBecameCurrent",direction),icur=$[deck]("getToplevelSlideOfIndex",to).index+1;icur<to+1;icur++)$[deck]("getSlides")[icur].trigger("deck.afterToplevelBecameCurrent","forward")};$d.bind("deck.change",function(e,from,to){(Math.abs(from-to)>1||!$[deck]("getToplevelSlideOfIndex",to).node.is($[deck]("getToplevelSlideOfIndex",from).node))&&bigJump(from,to)})}(jQuery,"deck"),function($,deck){$(document).bind("deck.change",function(e,from,to){var $prev=$[deck]("getSlide",to-1),$next=$[deck]("getSlide",to+1),$oldprev=$[deck]("getSlide",from-1),$oldnext=$[deck]("getSlide",from+1),direction="forward";from>to&&(direction="reverse"),$[deck]("getSlide",to).trigger("deck.becameCurrent",[direction,from,to]),$[deck]("getSlide",from).trigger("deck.lostCurrent",[direction,from,to]),$prev&&$prev.trigger("deck.becamePrevious",[direction,from,to]),$next&&$next.trigger("deck.becameNext",[direction,from,to]),$oldprev&&$oldprev.trigger("deck.lostPrevious",[direction,from,to]),$oldnext&&$oldnext.trigger("deck.lostNext",[direction,from,to])})}(jQuery,"deck");